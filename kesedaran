<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modul EKSA Digital 2025</title>
    <!-- Tailwind CSS (Untuk Design Cantik Tanpa Install) -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; }
        .perspective-1000 { perspective: 1000px; }
        .transform-style-3d { transform-style: preserve-3d; }
        .backface-hidden { backface-visibility: hidden; }
        .rotate-y-180 { transform: rotateY(180deg); }
        .flip-card.flipped .flip-card-inner { transform: rotateY(180deg); }
        .fade-in { animation: fadeIn 0.5s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        /* Hide scrollbar for clean look */
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
    </style>
</head>
<body class="bg-gray-50 text-gray-800 pb-20 md:pb-0">

    <!-- Header -->
    <header class="bg-white sticky top-0 z-50 border-b border-gray-200 shadow-sm">
        <div class="max-w-4xl mx-auto px-4 py-3 flex justify-between items-center">
            <div class="flex items-center gap-3">
                <div class="bg-blue-700 text-white p-2 rounded-lg">
                    <!-- Icon Layout -->
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><line x1="3" x2="21" y1="9" y2="9"/><line x1="9" x2="9" y1="21" y2="9"/></svg>
                </div>
                <div>
                    <h1 class="font-bold text-lg leading-tight text-gray-900">EKSA <span class="text-blue-600">Digital</span></h1>
                    <p class="text-[10px] text-gray-500 font-semibold uppercase tracking-wider">Modul Latihan Interaktif</p>
                </div>
            </div>
            <div class="text-xs font-medium bg-green-100 text-green-700 px-3 py-1 rounded-full">
                Edisi 2025
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main id="app-content" class="max-w-4xl mx-auto p-4 md:p-8 min-h-[80vh]">
        <!-- Content will be injected here by JavaScript -->
    </main>

    <!-- Bottom Navigation (Mobile Friendly) -->
    <nav class="fixed bottom-0 left-0 w-full bg-white border-t border-gray-200 shadow-[0_-4px_6px_-1px_rgba(0,0,0,0.1)] z-50">
        <div class="max-w-4xl mx-auto flex justify-around items-center h-16">
            <button onclick="renderPage('home')" class="nav-btn flex flex-col items-center w-full h-full justify-center text-blue-600" id="btn-home">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
                <span class="text-[10px] font-medium mt-1">Utama</span>
            </button>
            <button onclick="renderPage('kesedaran')" class="nav-btn flex flex-col items-center w-full h-full justify-center text-gray-400 hover:text-blue-500" id="btn-kesedaran">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5"/><path d="M9 18h6"/><path d="M10 22h4"/></svg>
                <span class="text-[10px] font-medium mt-1">Kesedaran</span>
            </button>
            <button onclick="renderPage('5s')" class="nav-btn flex flex-col items-center w-full h-full justify-center text-gray-400 hover:text-blue-500" id="btn-5s">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></svg>
                <span class="text-[10px] font-medium mt-1">Amalan 5S</span>
            </button>
            <button onclick="renderPage('elemen')" class="nav-btn flex flex-col items-center w-full h-full justify-center text-gray-400 hover:text-blue-500" id="btn-elemen">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>
                <span class="text-[10px] font-medium mt-1">Elemen</span>
            </button>
            <button onclick="renderPage('aktiviti')" class="nav-btn flex flex-col items-center w-full h-full justify-center text-gray-400 hover:text-blue-500" id="btn-aktiviti">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="8" r="7"/><polyline points="8.21 13.89 7 23 12 20 17 23 15.79 13.88"/></svg>
                <span class="text-[10px] font-medium mt-1">Aktiviti</span>
            </button>
        </div>
    </nav>

    <!-- JavaScript Logic -->
    <script>
        // --- DATA ---
        const flashcards = [
            { term: "SEIRI (SISIH)", desc: "Asingkan barang perlu & tidak perlu. Gunakan Tag Merah (Lupus) & Tag Kuning (Nilai).", color: "bg-red-600" },
            { term: "SEITON (SUSUN)", desc: "Susun barang supaya mudah diambil (30 saat). Guna kaedah FIFO & Label.", color: "bg-blue-600" },
            { term: "SEISO (SAPU)", desc: "Bersihkan habuk/kekotoran. Tentukan pemilikan ruang (ownership).", color: "bg-green-600" },
            { term: "SEIKETSU (SERAGAM)", desc: "Wujudkan SOP, senarai semak, dan piawaian yang konsisten.", color: "bg-yellow-500" },
            { term: "SHITSUKE (SENTIASA AMAL)", desc: "Budaya disiplin, audit kendiri, dan penambahbaikan berterusan.", color: "bg-purple-600" }
        ];

        const wastes = [
            { id: 1, title: "Overproduction", icon: "üìÑ" },
            { id: 2, title: "Waiting", icon: "‚è≥" },
            { id: 3, title: "Transportation", icon: "üöö" },
            { id: 4, title: "Motion", icon: "üèÉ" },
            { id: 5, title: "Over Processing", icon: "üîÑ" },
            { id: 6, title: "Inventory", icon: "üì¶" },
            { id: 7, title: "Defects", icon: "‚ö†Ô∏è" }
        ];

        let quizScore = 0;
        let activeWastes = [...wastes];
        let timerInterval;

        // --- RENDER FUNCTIONS ---

        function renderPage(pageName) {
            const app = document.getElementById('app-content');
            
            // Update Active Nav Style
            document.querySelectorAll('.nav-btn').forEach(btn => {
                btn.classList.remove('text-blue-600');
                btn.classList.add('text-gray-400');
            });
            document.getElementById(`btn-${pageName}`).classList.add('text-blue-600');
            document.getElementById(`btn-${pageName}`).classList.remove('text-gray-400');

            // Render Content
            if (pageName === 'home') {
                app.innerHTML = `
                    <div class="fade-in space-y-6">
                        <div class="bg-gradient-to-r from-blue-800 to-blue-600 rounded-3xl p-8 text-white shadow-xl relative overflow-hidden">
                            <div class="relative z-10">
                                <span class="bg-blue-500 text-blue-50 text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider mb-3 inline-block">Modul Interaktif</span>
                                <h1 class="text-4xl md:text-5xl font-extrabold mb-4 leading-tight">Kursus Kesedaran <br/> <span class="text-yellow-400">EKSA</span></h1>
                                <p class="text-blue-100 text-lg max-w-xl mb-6">Transformasi daripada Amalan 5S ke arah imej korporat dan persekitaran kerja kondusif.</p>
                                <button onclick="renderPage('kesedaran')" class="bg-yellow-400 text-blue-900 px-6 py-3 rounded-xl font-bold hover:bg-yellow-300 transition shadow-lg inline-flex items-center">
                                    Mula Kursus ‚Üí
                                </button>
                            </div>
                        </div>
                        
                        <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                            <button onclick="renderPage('kesedaran')" class="bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition text-center group">
                                <div class="w-10 h-10 bg-orange-100 text-orange-600 rounded-full flex items-center justify-center mx-auto mb-2 text-xl">üí°</div>
                                <span class="font-bold text-gray-700 text-sm">Kesedaran</span>
                            </button>
                            <button onclick="renderPage('5s')" class="bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition text-center group">
                                <div class="w-10 h-10 bg-green-100 text-green-600 rounded-full flex items-center justify-center mx-auto mb-2 text-xl">üîç</div>
                                <span class="font-bold text-gray-700 text-sm">Teknik 5S</span>
                            </button>
                            <button onclick="renderPage('elemen')" class="bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition text-center group">
                                <div class="w-10 h-10 bg-purple-100 text-purple-600 rounded-full flex items-center justify-center mx-auto mb-2 text-xl">‚ö°</div>
                                <span class="font-bold text-gray-700 text-sm">Elemen Baru</span>
                            </button>
                            <button onclick="renderPage('aktiviti')" class="bg-white p-4 rounded-xl shadow-sm border border-gray-100 hover:shadow-md transition text-center group">
                                <div class="w-10 h-10 bg-pink-100 text-pink-600 rounded-full flex items-center justify-center mx-auto mb-2 text-xl">üèÜ</div>
                                <span class="font-bold text-gray-700 text-sm">Aktiviti</span>
                            </button>
                        </div>

                        <div class="bg-white p-6 rounded-xl border border-gray-200 shadow-sm">
                            <h3 class="font-bold text-gray-800 mb-4 flex items-center">‚≠ê Objektif Kursus</h3>
                            <ul class="space-y-2 text-sm text-gray-600">
                                <li class="flex items-start"><span class="text-green-500 mr-2">‚úì</span> Menyelaras pengetahuan berkaitan EKSA</li>
                                <li class="flex items-start"><span class="text-green-500 mr-2">‚úì</span> Meningkatkan kecekapan pelaksanaan</li>
                                <li class="flex items-start"><span class="text-green-500 mr-2">‚úì</span> Menyemai budaya kerja positif</li>
                            </ul>
                        </div>
                    </div>
                `;
            } 
            else if (pageName === 'kesedaran') {
                app.innerHTML = `
                    <div class="fade-in space-y-6">
                        <div class="mb-4 border-b border-gray-200 pb-2">
                            <h2 class="text-2xl font-bold text-blue-800">Kesedaran EKSA</h2>
                            <p class="text-sm text-gray-500">Kenapa kita berubah dari 5S?</p>
                        </div>

                        <div class="bg-white p-6 rounded-xl shadow-sm border border-gray-100">
                            <h3 class="font-bold text-lg mb-4">Evolusi</h3>
                            <div class="space-y-4 border-l-2 border-blue-200 ml-2 pl-4">
                                <div>
                                    <span class="text-xs font-bold bg-blue-100 text-blue-600 px-2 py-1 rounded">1980-an</span>
                                    <p class="font-bold text-gray-800 mt-1">Amalan 5S Jepun</p>
                                    <p class="text-sm text-gray-600">Bermula di sektor industri/kilang.</p>
                                </div>
                                <div>
                                    <span class="text-xs font-bold bg-blue-100 text-blue-600 px-2 py-1 rounded">2010</span>
                                    <p class="font-bold text-gray-800 mt-1">5S Sektor Awam</p>
                                    <p class="text-sm text-gray-600">Diperkenalkan oleh MAMPU.</p>
                                </div>
                                <div>
                                    <span class="text-xs font-bold bg-green-100 text-green-600 px-2 py-1 rounded">2014</span>
                                    <p class="font-bold text-green-800 mt-1">EKSA (Rebranding)</p>
                                    <p class="text-sm text-gray-600">Penjenamaan semula untuk imej korporat yang lebih profesional.</p>
                                </div>
                            </div>
                        </div>

                        <!-- Game Section -->
                        <div class="bg-red-50 p-6 rounded-xl border border-red-100">
                            <div class="flex justify-between items-center mb-4">
                                <h3 class="font-bold text-red-800 flex items-center">üóëÔ∏è Misi: Basmi 7 Pembaziran</h3>
                                <span id="waste-score" class="text-xs font-bold bg-white px-2 py-1 rounded text-red-600">Baki: ${activeWastes.length}</span>
                            </div>
                            <p class="text-sm text-gray-600 mb-4 text-center">Klik pada ikon di bawah untuk menghapuskan pembaziran (Muda)!</p>
                            <div id="waste-container" class="grid grid-cols-3 md:grid-cols-4 gap-3">
                                ${activeWastes.length > 0 ? activeWastes.map(w => `
                                    <button onclick="removeWaste(${w.id})" class="bg-white p-3 rounded-lg shadow-sm hover:scale-105 transition flex flex-col items-center">
                                        <div class="text-2xl mb-1">${w.icon}</div>
                                        <span class="text-[10px] font-bold text-center leading-tight">${w.title}</span>
                                    </button>
                                `).join('') : `
                                    <div class="col-span-4 text-center py-4">
                                        <div class="text-4xl mb-2">üéâ</div>
                                        <p class="font-bold text-green-700">Tahniah! Semua pembaziran dihapuskan.</p>
                                        <button onclick="resetWasteGame()" class="text-xs underline text-blue-600 mt-2">Main Semula</button>
                                    </div>
                                `}
                            </div>
                        </div>
                    </div>
                `;
            }
            else if (pageName === '5s') {
                app.innerHTML = `
                    <div class="fade-in space-y-6">
                        <div class="mb-4 border-b border-gray-200 pb-2">
                            <h2 class="text-2xl font-bold text-green-800">Teknik 5S</h2>
                            <p class="text-sm text-gray-500">Klik kad untuk lihat maksud.</p>
                        </div>

                        <div class="grid gap-4">
                            ${flashcards.map((card, idx) => `
                                <div onclick="this.classList.toggle('flipped')" class="flip-card h-32 w-full perspective-1000 cursor-pointer group">
                                    <div class="flip-card-inner relative w-full h-full transition-transform duration-500 transform-style-3d shadow-md rounded-xl">
                                        <!-- Front -->
                                        <div class="absolute w-full h-full backface-hidden rounded-xl ${card.color} text-white flex flex-col items-center justify-center p-4">
                                            <h3 class="font-bold text-xl">${card.term}</h3>
                                            <p class="text-[10px] mt-2 opacity-80 uppercase tracking-widest">Klik Info</p>
                                        </div>
                                        <!-- Back -->
                                        <div class="absolute w-full h-full backface-hidden rounded-xl bg-white border-2 border-gray-100 rotate-y-180 flex items-center justify-center p-4 text-center">
                                            <p class="text-sm text-gray-700 font-medium">${card.desc}</p>
                                        </div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>

                        <div class="bg-blue-50 p-5 rounded-xl border border-blue-100 mt-6">
                            <h3 class="font-bold text-blue-800 mb-2">üìã Simulasi SISIH</h3>
                            <div class="space-y-2 text-sm text-gray-700">
                                <p>1. Kenal pasti barang.</p>
                                <p>2. Ada nilai? <strong>(Tag Kuning)</strong></p>
                                <p>3. Rosak/Tiada nilai? <strong>(Tag Merah - Lupus)</strong></p>
                            </div>
                        </div>
                    </div>
                `;
            }
            else if (pageName === 'elemen') {
                app.innerHTML = `
                    <div class="fade-in space-y-6">
                        <div class="mb-4 border-b border-gray-200 pb-2">
                            <h2 class="text-2xl font-bold text-purple-800">Elemen Baharu</h2>
                            <p class="text-sm text-gray-500">Nilai tambah EKSA berbanding 5S.</p>
                        </div>

                        <div class="space-y-4">
                            <div class="bg-white p-5 rounded-xl shadow-sm border-l-4 border-indigo-500 flex gap-4 items-start">
                                <div class="text-3xl">üíº</div>
                                <div>
                                    <h3 class="font-bold text-gray-800">Imej Korporat</h3>
                                    <p class="text-sm text-gray-600 mt-1">Pejabat mesti nampak profesional, bukan seperti bengkel. Keselamatan dan kekemasan diutamakan.</p>
                                </div>
                            </div>
                            
                            <div class="bg-white p-5 rounded-xl shadow-sm border-l-4 border-orange-500 flex gap-4 items-start">
                                <div class="text-3xl">üí°</div>
                                <div>
                                    <h3 class="font-bold text-gray-800">Kreativiti</h3>
                                    <p class="text-sm text-gray-600 mt-1">Guna bahan terbuang untuk inovasi. Contoh: Divider laci dari kotak terpakai.</p>
                                </div>
                            </div>

                            <div class="bg-white p-5 rounded-xl shadow-sm border-l-4 border-green-500 flex gap-4 items-start">
                                <div class="text-3xl">üåø</div>
                                <div>
                                    <h3 class="font-bold text-gray-800">Amalan Hijau</h3>
                                    <p class="text-sm text-gray-600 mt-1">Jimat tenaga. Suhu aircond 24¬∞C. Kitar semula kertas.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
            else if (pageName === 'aktiviti') {
                app.innerHTML = `
                    <div class="fade-in space-y-6">
                         <div class="mb-4 border-b border-gray-200 pb-2">
                            <h2 class="text-2xl font-bold text-pink-800">Zon Aktiviti</h2>
                            <p class="text-sm text-gray-500">Cabaran 5 Minit.</p>
                        </div>

                        <div class="bg-gray-900 text-white rounded-2xl p-8 text-center shadow-lg relative overflow-hidden">
                            <div class="relative z-10">
                                <div class="text-4xl mb-4">‚è±Ô∏è</div>
                                <h3 class="text-xl font-bold mb-2">Gotong-Royong Pantas</h3>
                                <p class="text-gray-400 text-sm mb-6">Masa untuk menyisih laci meja anda!</p>
                                
                                <div id="timer-display" class="text-6xl font-mono font-bold tracking-widest mb-8">05:00</div>
                                
                                <div class="flex justify-center gap-4">
                                    <button onclick="toggleTimer()" id="btn-timer" class="px-6 py-2 bg-green-500 hover:bg-green-600 rounded-full font-bold transition">Mula</button>
                                    <button onclick="resetTimer()" class="px-6 py-2 bg-gray-700 hover:bg-gray-600 rounded-full font-bold transition">Reset</button>
                                </div>
                            </div>
                        </div>

                        <div class="bg-white p-6 rounded-xl border border-gray-200">
                            <h3 class="font-bold text-gray-800 mb-4">Uji Minda Situasi</h3>
                            <div class="space-y-4">
                                <div class="p-3 bg-gray-50 rounded-lg">
                                    <p class="text-sm font-semibold mb-2">Situasi: Anda jumpa kerusi patah.</p>
                                    <div class="grid grid-cols-1 gap-2">
                                        <button onclick="alert('Salah. Ia akan menyemakkan stor.')" class="text-left text-xs p-2 bg-white border rounded hover:bg-red-50">A. Simpan dalam stor</button>
                                        <button onclick="alert('Tahniah! Tepat sekali.')" class="text-left text-xs p-2 bg-white border rounded hover:bg-green-50">B. Guna Tag Merah & Lupus</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                `;
            }
        }

        // --- GAME LOGIC ---
        function removeWaste(id) {
            activeWastes = activeWastes.filter(w => w.id !== id);
            renderPage('kesedaran'); // Re-render to show updated state
        }

        function resetWasteGame() {
            activeWastes = [...wastes];
            renderPage('kesedaran');
        }

        // --- TIMER LOGIC ---
        let time = 300; // 5 minutes
        let isRunning = false;

        function toggleTimer() {
            const btn = document.getElementById('btn-timer');
            if (isRunning) {
                clearInterval(timerInterval);
                isRunning = false;
                btn.innerText = "Sambung";
                btn.classList.remove('bg-red-500');
                btn.classList.add('bg-green-500');
            } else {
                isRunning = true;
                btn.innerText = "Jeda";
                btn.classList.remove('bg-green-500');
                btn.classList.add('bg-red-500');
                timerInterval = setInterval(() => {
                    if (time > 0) {
                        time--;
                        updateTimerDisplay();
                    } else {
                        clearInterval(timerInterval);
                        isRunning = false;
                        alert("Masa Tamat!");
                    }
                }, 1000);
            }
        }

        function resetTimer() {
            clearInterval(timerInterval);
            isRunning = false;
            time = 300;
            updateTimerDisplay();
            const btn = document.getElementById('btn-timer');
            if(btn) {
                btn.innerText = "Mula";
                btn.classList.add('bg-green-500');
                btn.classList.remove('bg-red-500');
            }
        }

        function updateTimerDisplay() {
            const mins = Math.floor(time / 60);
            const secs = time % 60;
            const display = `${mins < 10 ? '0' : ''}${mins}:${secs < 10 ? '0' : ''}${secs}`;
            const el = document.getElementById('timer-display');
            if (el) el.innerText = display;
        }

        // Initial Render
        renderPage('home');

    </script>
</body>
</html>
